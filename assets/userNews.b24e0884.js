import{K as b,a1 as C,ak as s,o as l,a as _,Y as e,S as t,b as n,F as B,ab as L,T,X as r,u as I,Z as F,R as P,V as A,W as D,aE as H,aF as E}from"./vue.e20a9695.js";import{ag as M,f as R}from"./index.b00245d2.js";import{c as U}from"./commonFunction.48318eae.js";import{S as $}from"./sys-notice-api.04be8f09.js";import{_ as K}from"./_plugin-vue_export-helper.c27b6911.js";import"./monacoEditor.48edecf2.js";import"./formatTime.29ac8c52.js";const f=a=>(H("data-v-2aebcdce"),a=a(),E(),a),W={class:"user-news-container"},X=f(()=>n("span",{style:{"margin-left":"5px"}},"站内信",-1)),Y={class:"notice-box"},Z=["onClick"],j={class:"notice-title"},q={class:"notice-content"},z={class:"notice-time"},G=f(()=>n("span",{style:{"margin-left":"5px"}},"我的",-1)),J={style:{height:"400px","overflow-y":"auto","padding-right":"10px"}},O=["innerHTML"],Q={class:"dialog-footer"},ee=b({name:"layoutBreadcrumbUserNews"}),te=b({...ee,props:{noticeList:Array},setup(a){const{removeHtmlSub:g}=U(),i=C({dialogVisible:!1,content:""}),h=()=>{M.push("/dashboard/notice")},y=async c=>{i.content=c.content,i.dialogVisible=!0,c.readStatus=1,await R($).apiSysNoticeSetReadPost({id:c.id})};return(c,d)=>{const v=s("ele-Bell"),p=s("el-icon"),x=s("el-divider"),m=s("el-empty"),u=s("el-tab-pane"),S=s("ele-Position"),V=s("el-tabs"),k=s("el-button"),w=s("el-dialog");return l(),_("div",W,[e(V,{stretch:"",class:"content-box"},{default:t(()=>[e(u,{label:"站内信"},{label:t(()=>[e(p,null,{default:t(()=>[e(v)]),_:1}),X]),default:t(()=>[n("div",Y,[a.noticeList.length>0?(l(!0),_(B,{key:0},L(a.noticeList,(o,N)=>T((l(),_("div",{class:"notice-item",key:N,onClick:oe=>y(o)},[n("div",j,r(o.type==1?"【通知】":"【公告】")+r(o.title),1),n("div",q,r(I(g)(o.content)),1),n("div",z,r(o.publicTime),1),e(x,{"border-style":"dashed",style:{margin:"10px 0"}})],8,Z)),[[F,o.readStatus!=1]])),128)):(l(),P(m,{key:1,description:"空"}))]),a.noticeList.length>0?(l(),_("div",{key:0,class:"notice-foot",onClick:h},"前往通知中心")):A("",!0)]),_:1}),e(u,{label:"我的"},{label:t(()=>[e(p,null,{default:t(()=>[e(S)]),_:1}),G]),default:t(()=>[n("div",J,[e(m,{description:"空"})])]),_:1})]),_:1}),e(w,{modelValue:i.dialogVisible,"onUpdate:modelValue":d[1]||(d[1]=o=>i.dialogVisible=o),title:"消息详情",draggable:"",width:"769px"},{footer:t(()=>[n("span",Q,[e(k,{type:"primary",onClick:d[0]||(d[0]=o=>i.dialogVisible=!1)},{default:t(()=>[D("确认")]),_:1})])]),default:t(()=>[n("p",{innerHTML:i.content},null,8,O)]),_:1},8,["modelValue"])])}}});const _e=K(te,[["__scopeId","data-v-2aebcdce"]]);export{_e as default};
