import{K as T,r,l as k,w as N,ak as p,o as w,R as j,S as o,Y as u,W as d,a as A,ab as L,F as h}from"./vue.e20a9695.js";import{_ as z}from"./_plugin-vue_export-helper.c27b6911.js";const E=T({__name:"min",props:{cron:{type:Object,default:{second:"*",min:"*",hour:"*",day:"*",month:"*",week:"?",year:""}},check:{type:Function,default:()=>{}}},emits:["update"],setup(C,{emit:_}){const c=C,a=r(1),t=r(0),v=r(1),m=r(0),i=r(1),s=r([]),x=r([0]),y=k(()=>(t.value=c.check(t.value,0,58),v.value=c.check(v.value,t.value+1,59),t.value+"-"+v.value)),g=k(()=>(m.value=c.check(m.value,0,58),i.value=c.check(i.value,1,59-m.value),m.value+"/"+i.value)),U=k(()=>s.value.join(","));N(()=>c.cron.min,n=>B(n)),N([a,y,g,U],()=>F());function B(n){if(n==="*")a.value=1;else if(n.indexOf("-")>-1){const e=n.split("-");t.value=Number(e[0]),v.value=Number(e[1]),a.value=2}else if(n.indexOf("/")>-1){const e=n.split("/");m.value=Number(e[0]),i.value=Number(e[1]),a.value=3}else s.value=[...new Set(n.split(",").map(e=>Number(e)))],a.value=4}function F(){switch(a.value){case 1:_("update","min","*","min");break;case 2:_("update","min",y.value,"min");break;case 3:_("update","min",g.value,"min");break;case 4:s.value.length===0?s.value.push(x.value[0]):x.value=s.value,_("update","min",U.value,"min");break}}return(n,e)=>{const f=p("el-radio"),V=p("el-form-item"),b=p("el-input-number"),O=p("el-option"),R=p("el-select"),S=p("el-form");return w(),j(S,{size:"small"},{default:o(()=>[u(V,null,{default:o(()=>[u(f,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),label:1},{default:o(()=>[d(" 分钟，允许的通配符[, - * /] ")]),_:1},8,["modelValue"])]),_:1}),u(V,null,{default:o(()=>[u(f,{modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value=l),label:2},{default:o(()=>[d(" 周期从 "),u(b,{modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value=l),min:0,max:58},null,8,["modelValue"]),d(" - "),u(b,{modelValue:v.value,"onUpdate:modelValue":e[2]||(e[2]=l=>v.value=l),min:t.value+1,max:59},null,8,["modelValue","min"]),d(" 分钟 ")]),_:1},8,["modelValue"])]),_:1}),u(V,null,{default:o(()=>[u(f,{modelValue:a.value,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value=l),label:3},{default:o(()=>[d(" 从 "),u(b,{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=l=>m.value=l),min:0,max:58},null,8,["modelValue"]),d(" 分钟开始， 每 "),u(b,{modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=l=>i.value=l),min:1,max:59-m.value},null,8,["modelValue","max"]),d(" 分钟执行一次 ")]),_:1},8,["modelValue"])]),_:1}),u(V,null,{default:o(()=>[u(f,{modelValue:a.value,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value=l),label:4},{default:o(()=>[d(" 指定 "),u(R,{clearable:"",modelValue:s.value,"onUpdate:modelValue":e[7]||(e[7]=l=>s.value=l),placeholder:"可多选",multiple:"","multiple-limit":10},{default:o(()=>[(w(),A(h,null,L(60,l=>u(O,{key:l,label:l-1,value:l-1},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1})}}});const M=z(E,[["__scopeId","data-v-49e4aec8"]]);export{M as default};
