import{_ as R}from"./index.vue_vue_type_script_setup_true_name_iconSelector_lang.6c02e3e5.js";import{f as w,e as q,D as k}from"./index.795da706.js";import{K as D,r as H,a1 as J,ak as s,o as p,a as _,Y as l,S as e,b,X as V,W as d,V as c,F as S}from"./vue.e20a9695.js";const O={class:"sys-menu-container"},T={style:{color:"#fff"}},W={key:0},X={class:"dialog-footer"},Y=D({name:"sysEditMenu"}),Q=D({...Y,props:{title:String,menuData:Array},setup(v,{expose:N}){const F=v,g=H(),a=J({isShowDialog:!1,ruleForm:{}}),A=f=>{a.ruleForm=JSON.parse(JSON.stringify(f)),a.isShowDialog=!0},C=()=>{q.emit("submitRefresh"),a.isShowDialog=!1},z=()=>{a.isShowDialog=!1},E=()=>{g.value.validate(async f=>{f&&(a.ruleForm.id!=null&&a.ruleForm.id>0?await w(k).apiSysMenuUpdatePost(a.ruleForm):await w(k).apiSysMenuAddPost(a.ruleForm),C())})};return N({openDialog:A}),(f,t)=>{const M=s("ele-Edit"),P=s("el-icon"),B=s("el-cascader"),u=s("el-form-item"),r=s("el-col"),m=s("el-radio"),i=s("el-radio-group"),n=s("el-input"),x=s("el-input-number"),I=s("el-row"),K=s("el-form"),y=s("el-button"),L=s("el-dialog");return p(),_("div",O,[l(L,{modelValue:a.isShowDialog,"onUpdate:modelValue":t[18]||(t[18]=o=>a.isShowDialog=o),draggable:"","close-on-click-modal":!1,width:"769px"},{header:e(()=>[b("div",T,[l(P,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:e(()=>[l(M)]),_:1}),b("span",null,V(F.title),1)])]),footer:e(()=>[b("span",X,[l(y,{onClick:z,size:"default"},{default:e(()=>[d("取 消")]),_:1}),l(y,{type:"primary",onClick:E,size:"default"},{default:e(()=>[d("确 定")]),_:1})])]),default:e(()=>[l(K,{model:a.ruleForm,ref_key:"ruleFormRef",ref:g,size:"default","label-width":"80px"},{default:e(()=>[l(I,{gutter:35},{default:e(()=>[l(r,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:e(()=>[l(u,{label:"上级菜单"},{default:e(()=>[l(B,{options:F.menuData,props:{checkStrictly:!0,emitPath:!1,value:"id",label:"title"},placeholder:"请选择上级菜单",clearable:"",class:"w100",modelValue:a.ruleForm.pid,"onUpdate:modelValue":t[0]||(t[0]=o=>a.ruleForm.pid=o)},{default:e(({node:o,data:U})=>[b("span",null,V(U.title),1),o.isLeaf?c("",!0):(p(),_("span",W," ("+V(U.children.length)+") ",1))]),_:1},8,["options","modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:e(()=>[l(u,{label:"菜单类型",prop:"type",rules:[{required:!0,message:"菜单类型不能为空",trigger:"blur"}]},{default:e(()=>[l(i,{modelValue:a.ruleForm.type,"onUpdate:modelValue":t[1]||(t[1]=o=>a.ruleForm.type=o)},{default:e(()=>[l(m,{label:1},{default:e(()=>[d("目录")]),_:1}),l(m,{label:2},{default:e(()=>[d("菜单")]),_:1}),l(m,{label:3},{default:e(()=>[d("按钮")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"菜单名称",prop:"title",rules:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}]},{default:e(()=>[l(n,{modelValue:a.ruleForm.title,"onUpdate:modelValue":t[2]||(t[2]=o=>a.ruleForm.title=o),placeholder:"菜单名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a.ruleForm.type===1||a.ruleForm.type===2?(p(),_(S,{key:0},[l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"路由名称"},{default:e(()=>[l(n,{modelValue:a.ruleForm.name,"onUpdate:modelValue":t[3]||(t[3]=o=>a.ruleForm.name=o),placeholder:"路由名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"路由路径"},{default:e(()=>[l(n,{modelValue:a.ruleForm.path,"onUpdate:modelValue":t[4]||(t[4]=o=>a.ruleForm.path=o),placeholder:"路由路径",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"组件路径"},{default:e(()=>[l(n,{modelValue:a.ruleForm.component,"onUpdate:modelValue":t[5]||(t[5]=o=>a.ruleForm.component=o),placeholder:"组件路径",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"菜单图标"},{default:e(()=>[l(R,{modelValue:a.ruleForm.icon,"onUpdate:modelValue":t[6]||(t[6]=o=>a.ruleForm.icon=o),placeholder:"菜单图标",type:"all"},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"重定向"},{default:e(()=>[l(n,{modelValue:a.ruleForm.redirect,"onUpdate:modelValue":t[7]||(t[7]=o=>a.ruleForm.redirect=o),placeholder:"重定向地址",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"链接地址"},{default:e(()=>[l(n,{modelValue:a.ruleForm.outLink,"onUpdate:modelValue":t[8]||(t[8]=o=>a.ruleForm.outLink=o),placeholder:"外链/内嵌时链接地址",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"菜单排序"},{default:e(()=>[l(x,{modelValue:a.ruleForm.orderNo,"onUpdate:modelValue":t[9]||(t[9]=o=>a.ruleForm.orderNo=o),placeholder:"排序",class:"w100"},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"是否隐藏"},{default:e(()=>[l(i,{modelValue:a.ruleForm.isHide,"onUpdate:modelValue":t[10]||(t[10]=o=>a.ruleForm.isHide=o)},{default:e(()=>[l(m,{label:!0},{default:e(()=>[d("隐藏")]),_:1}),l(m,{label:!1},{default:e(()=>[d("不隐藏")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"是否缓存"},{default:e(()=>[l(i,{modelValue:a.ruleForm.isKeepAlive,"onUpdate:modelValue":t[11]||(t[11]=o=>a.ruleForm.isKeepAlive=o)},{default:e(()=>[l(m,{label:!0},{default:e(()=>[d("缓存")]),_:1}),l(m,{label:!1},{default:e(()=>[d("不缓存")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"是否固定"},{default:e(()=>[l(i,{modelValue:a.ruleForm.isAffix,"onUpdate:modelValue":t[12]||(t[12]=o=>a.ruleForm.isAffix=o)},{default:e(()=>[l(m,{label:!0},{default:e(()=>[d("固定")]),_:1}),l(m,{label:!1},{default:e(()=>[d("不固定")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"是否内嵌"},{default:e(()=>[l(i,{modelValue:a.ruleForm.isIframe,"onUpdate:modelValue":t[13]||(t[13]=o=>a.ruleForm.isIframe=o)},{default:e(()=>[l(m,{label:!0},{default:e(()=>[d("内嵌")]),_:1}),l(m,{label:!1},{default:e(()=>[d("不内嵌")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)):c("",!0),a.ruleForm.type===3?(p(),_(S,{key:1},[l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"权限标识"},{default:e(()=>[l(n,{modelValue:a.ruleForm.permission,"onUpdate:modelValue":t[14]||(t[14]=o=>a.ruleForm.permission=o),placeholder:"权限标识",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"菜单排序"},{default:e(()=>[l(x,{modelValue:a.ruleForm.orderNo,"onUpdate:modelValue":t[15]||(t[15]=o=>a.ruleForm.orderNo=o),placeholder:"排序",class:"w100"},null,8,["modelValue"])]),_:1})]),_:1})],64)):c("",!0),l(r,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(u,{label:"是否启用"},{default:e(()=>[l(i,{modelValue:a.ruleForm.status,"onUpdate:modelValue":t[16]||(t[16]=o=>a.ruleForm.status=o)},{default:e(()=>[l(m,{label:1},{default:e(()=>[d("启用")]),_:1}),l(m,{label:2},{default:e(()=>[d("不启用")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:e(()=>[l(u,{label:"备注"},{default:e(()=>[l(n,{modelValue:a.ruleForm.remark,"onUpdate:modelValue":t[17]||(t[17]=o=>a.ruleForm.remark=o),placeholder:"请输入备注内容",clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{Q as _};
