import{K as S,r as s,l as k,w as U,ak as c,o as N,R as T,S as o,Y as u,W as r,a as j,ab as A,F as L}from"./vue.e20a9695.js";import{_ as z}from"./_plugin-vue_export-helper.c27b6911.js";const E=S({__name:"hour",props:{cron:{type:Object,default:{second:"*",min:"*",hour:"*",day:"*",month:"*",week:"?",year:""}},check:{type:Function,default:()=>{}}},emits:["update"],setup(w,{emit:_}){const i=w,a=s(1),n=s(0),v=s(1),d=s(0),p=s(1),m=s([]),x=s([0]),h=k(()=>(n.value=i.check(n.value,0,22),v.value=i.check(v.value,n.value+1,23),n.value+"-"+v.value)),y=k(()=>(d.value=i.check(d.value,0,22),p.value=i.check(p.value,1,23-d.value),d.value+"/"+p.value)),g=k(()=>m.value.join(","));U(()=>i.cron.hour,t=>C(t)),U([a,h,y,g],()=>B());function C(t){if(t==="*")a.value=1;else if(t.indexOf("-")>-1){const e=t.split("-");n.value=Number(e[0]),v.value=Number(e[1]),a.value=2}else if(t.indexOf("/")>-1){const e=t.split("/");d.value=Number(e[0]),p.value=Number(e[1]),a.value=3}else m.value=[...new Set(t.split(",").map(e=>Number(e)))],a.value=4}function B(){switch(a.value){case 1:_("update","hour","*","hour");break;case 2:_("update","hour",h.value,"hour");break;case 3:_("update","hour",y.value,"hour");break;case 4:m.value.length===0?m.value.push(x.value[0]):x.value=m.value,_("update","hour",g.value,"hour");break}}return(t,e)=>{const f=c("el-radio"),V=c("el-form-item"),b=c("el-input-number"),F=c("el-option"),O=c("el-select"),R=c("el-form");return N(),T(R,{size:"small"},{default:o(()=>[u(V,null,{default:o(()=>[u(f,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),label:1},{default:o(()=>[r(" 小时，允许的通配符[, - * /] ")]),_:1},8,["modelValue"])]),_:1}),u(V,null,{default:o(()=>[u(f,{modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value=l),label:2},{default:o(()=>[r(" 周期从 "),u(b,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=l=>n.value=l),min:0,max:22},null,8,["modelValue"]),r(" - "),u(b,{modelValue:v.value,"onUpdate:modelValue":e[2]||(e[2]=l=>v.value=l),min:n.value+1,max:23},null,8,["modelValue","min"]),r(" 时 ")]),_:1},8,["modelValue"])]),_:1}),u(V,null,{default:o(()=>[u(f,{modelValue:a.value,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value=l),label:3},{default:o(()=>[r(" 从 "),u(b,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=l=>d.value=l),min:0,max:22},null,8,["modelValue"]),r(" 时开始，每 "),u(b,{modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=l=>p.value=l),min:1,max:23-d.value},null,8,["modelValue","max"]),r(" 小时执行一次 ")]),_:1},8,["modelValue"])]),_:1}),u(V,null,{default:o(()=>[u(f,{modelValue:a.value,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value=l),label:4},{default:o(()=>[r(" 指定 "),u(O,{clearable:"",modelValue:m.value,"onUpdate:modelValue":e[7]||(e[7]=l=>m.value=l),placeholder:"可多选",multiple:"","multiple-limit":10},{default:o(()=>[(N(),j(L,null,A(24,l=>u(F,{key:l,label:l-1,value:l-1},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1})}}});const K=z(E,[["__scopeId","data-v-b888790a"]]);export{K as default};
