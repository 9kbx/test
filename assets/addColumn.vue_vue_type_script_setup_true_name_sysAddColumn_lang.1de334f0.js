import{g as B,e as I}from"./index.122dcd40.js";import{S as R}from"./sys-database-api.1f79e06c.js";import{y as g,d as E}from"./database.e811a0f2.js";import{K as k,r as q,a1 as L,ak as u,o as s,a as m,Y as l,S as o,b as y,W as D,F as _,ab as f,u as c,R as b}from"./vue.e20a9695.js";const K={class:"sys-dbColumn-container"},W={style:{color:"#fff"}},Y=y("span",null," 增加列 ",-1),j={class:"dialog-footer"},G=k({name:"sysAddColumn"}),X=k({...G,setup(H,{expose:w}){const V=q(),a=L({isShowDialog:!1,ruleForm:{}}),C=d=>{a.ruleForm=d,a.isShowDialog=!0},S=()=>{I.emit("submitRefreshColumn"),a.isShowDialog=!1},N=()=>{a.isShowDialog=!1},U=()=>{V.value.validate(async d=>{d&&(await B(R).apiSysDatabaseAddColumnPost(a.ruleForm),S())})};return w({openDialog:C}),(d,t)=>{const z=u("ele-Edit"),P=u("el-icon"),v=u("el-input"),r=u("el-form-item"),n=u("el-col"),i=u("el-option"),p=u("el-select"),x=u("el-input-number"),T=u("el-row"),h=u("el-form"),F=u("el-button"),A=u("el-dialog");return s(),m("div",K,[l(A,{modelValue:a.isShowDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>a.isShowDialog=e),draggable:"","close-on-click-modal":!1,width:"600px"},{header:o(()=>[y("div",W,[l(P,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:o(()=>[l(z)]),_:1}),Y])]),footer:o(()=>[y("span",j,[l(F,{onClick:N,size:"default"},{default:o(()=>[D("取 消")]),_:1}),l(F,{type:"primary",onClick:U,size:"default"},{default:o(()=>[D("确 定")]),_:1})])]),default:o(()=>[l(h,{model:a.ruleForm,ref_key:"ruleFormRef",ref:V,size:"default","label-width":"60px"},{default:o(()=>[l(T,{gutter:35},{default:o(()=>[l(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(r,{label:"列名",prop:"dbColumnName",rules:[{required:!0,message:"名称不能为空",trigger:"blur"}]},{default:o(()=>[l(v,{modelValue:a.ruleForm.dbColumnName,"onUpdate:modelValue":t[0]||(t[0]=e=>a.ruleForm.dbColumnName=e),placeholder:"列名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[l(r,{label:"描述",prop:"columnDescription",rules:[{required:!0,message:"描述不能为空",trigger:"blur"}]},{default:o(()=>[l(v,{modelValue:a.ruleForm.columnDescription,"onUpdate:modelValue":t[1]||(t[1]=e=>a.ruleForm.columnDescription=e),placeholder:"描述",clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1}),l(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(r,{label:"主键",prop:"isPrimarykey"},{default:o(()=>[l(p,{modelValue:a.ruleForm.isPrimarykey,"onUpdate:modelValue":t[2]||(t[2]=e=>a.ruleForm.isPrimarykey=e)},{default:o(()=>[(s(!0),m(_,null,f(c(g),e=>(s(),b(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(r,{label:"自增",prop:"isIdentity"},{default:o(()=>[l(p,{modelValue:a.ruleForm.isIdentity,"onUpdate:modelValue":t[3]||(t[3]=e=>a.ruleForm.isIdentity=e),class:"m-2"},{default:o(()=>[(s(!0),m(_,null,f(c(g),e=>(s(),b(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(r,{label:"类型",prop:"dataType"},{default:o(()=>[l(p,{modelValue:a.ruleForm.dataType,"onUpdate:modelValue":t[4]||(t[4]=e=>a.ruleForm.dataType=e)},{default:o(()=>[(s(!0),m(_,null,f(c(E),e=>(s(),b(i,{key:e.value,label:e.value,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(r,{label:"可空",prop:"isNullable"},{default:o(()=>[l(p,{modelValue:a.ruleForm.isNullable,"onUpdate:modelValue":t[5]||(t[5]=e=>a.ruleForm.isNullable=e)},{default:o(()=>[(s(!0),m(_,null,f(c(g),e=>(s(),b(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(r,{label:"长度",prop:"length"},{default:o(()=>[l(x,{modelValue:a.ruleForm.length,"onUpdate:modelValue":t[6]||(t[6]=e=>a.ruleForm.length=e),size:"default"},null,8,["modelValue"])]),_:1})]),_:1}),l(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[l(r,{label:"小数位",prop:"decimalDigits"},{default:o(()=>[l(x,{modelValue:a.ruleForm.decimalDigits,"onUpdate:modelValue":t[7]||(t[7]=e=>a.ruleForm.decimalDigits=e),size:"default"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{X as _};
