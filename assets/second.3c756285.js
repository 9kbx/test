import{K as T,r,l as k,w as N,ak as p,o as w,R as j,S as u,Y as o,W as s,a as A,ab as L,F as h}from"./vue.e20a9695.js";import{_ as z}from"./_plugin-vue_export-helper.c27b6911.js";const E=T({__name:"second",props:{cron:{type:Object,default:{second:"*",min:"*",hour:"*",day:"*",month:"*",week:"?",year:""}},check:{type:Function,default:()=>{}}},emits:["update"],setup(C,{emit:_}){const i=C,a=r(1),t=r(0),c=r(1),d=r(0),v=r(1),m=r([]),x=r([0]),y=k(()=>(t.value=i.check(t.value,0,58),c.value=i.check(c.value,t.value+1,59),t.value+"-"+c.value)),g=k(()=>(d.value=i.check(d.value,0,58),v.value=i.check(v.value,1,59-d.value),d.value+"/"+v.value)),U=k(()=>m.value.join(","));N(()=>i.cron.second,n=>S(n)),N([a,y,g,U],()=>B());function S(n){if(n==="*")a.value=1;else if(n.indexOf("-")>-1){const e=n.split("-");t.value=Number(e[0]),c.value=Number(e[1]),a.value=2}else if(n.indexOf("/")>-1){const e=n.split("/");d.value=Number(e[0]),v.value=Number(e[1]),a.value=3}else m.value=[...new Set(n.split(",").map(e=>Number(e)))],a.value=4}function B(){switch(a.value){case 1:_("update","second","*","second");break;case 2:_("update","second",y.value,"second");break;case 3:_("update","second",g.value,"second");break;case 4:m.value.length===0?m.value.push(x.value[0]):x.value=m.value,_("update","second",U.value,"second");break}}return(n,e)=>{const f=p("el-radio"),V=p("el-form-item"),b=p("el-input-number"),F=p("el-option"),O=p("el-select"),R=p("el-form");return w(),j(R,{size:"small"},{default:u(()=>[o(V,null,{default:u(()=>[o(f,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),label:1},{default:u(()=>[s(" 秒，允许的通配符[, - * /] ")]),_:1},8,["modelValue"])]),_:1}),o(V,null,{default:u(()=>[o(f,{modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value=l),label:2},{default:u(()=>[s(" 周期从 "),o(b,{modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value=l),min:0,max:58},null,8,["modelValue"]),s(" - "),o(b,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=l=>c.value=l),min:t.value+1,max:59},null,8,["modelValue","min"]),s(" 秒 ")]),_:1},8,["modelValue"])]),_:1}),o(V,null,{default:u(()=>[o(f,{modelValue:a.value,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value=l),label:3},{default:u(()=>[s(" 从 "),o(b,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=l=>d.value=l),min:0,max:58},null,8,["modelValue"]),s(" 秒开始，每 "),o(b,{modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=l=>v.value=l),min:1,max:59-d.value},null,8,["modelValue","max"]),s(" 秒执行一次 ")]),_:1},8,["modelValue"])]),_:1}),o(V,null,{default:u(()=>[o(f,{modelValue:a.value,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value=l),label:4},{default:u(()=>[s(" 指定 "),o(O,{clearable:"",modelValue:m.value,"onUpdate:modelValue":e[7]||(e[7]=l=>m.value=l),placeholder:"可多选",multiple:"","multiple-limit":10},{default:u(()=>[(w(),A(h,null,L(60,l=>o(F,{key:l,label:l-1,value:l-1},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1})}}});const W=z(E,[["__scopeId","data-v-9556b5b8"]]);export{W as default};
