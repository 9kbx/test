import{K as p,az as f,a1 as m,k as y,ak as c,au as b,T as x,o as D,a as F,b as t,Y as g,W as N,S as _,X as r}from"./vue.e20a9695.js";import{l as k,g as z}from"./index.a169e15e.js";import{S as I}from"./sys-org-api.85b877c8.js";import{_ as B}from"./_plugin-vue_export-helper.c27b6911.js";import"./monacoEditor.48edecf2.js";const O={style:{"text-align":"right"}},S={style:{"margin-right":"10px"}},T={style:{height:"500px"}},V={class:"tree-org-node__text node-label"},w={class:"node-title"},C={class:"node-id"},A=p({name:"orgTree"}),E=p({...A,setup(U){const h=k(),{userInfos:s}=f(h),d={color:"#FFFFFF",background:"#3B3B3B"},e=m({loading:!1,orgData:[],horizontal:!1,collapsable:!0,onlyOneNode:!1,cloneNodeDrag:!1,nodeDraggable:!1,style:{background:"var(--el-color-primary)",color:"#FFFFFF"}});y(async()=>{e.loading=!0;var n=await z(I).apiSysOrgListGet(0),o=n.data.result??[];e.orgData=o[0]??[],e.orgData.id==s.value.orgId?e.orgData.style=d:i(e.orgData.children,s.value.orgId),e.loading=!1});const i=(n,o)=>{n.forEach(function(a){if(a.id==o){a.style=d;return}else a.children&&a.children.length>0&&i(a.children,o)})};return(n,o)=>{const a=c("el-switch"),u=c("vue3-tree-org"),v=b("loading");return x((D(),F("div",null,[t("div",O,[t("div",S,[g(a,{modelValue:e.horizontal,"onUpdate:modelValue":o[0]||(o[0]=l=>e.horizontal=l)},null,8,["modelValue"]),N(" 横向/纵向")])]),t("div",T,[g(u,{data:e.orgData,props:{id:"id",pid:"pid",label:"name",expand:"expand",children:"children"},"label-style":e.style,"default-expand-level":100,horizontal:e.horizontal,collapsable:e.collapsable,"only-one-node":e.onlyOneNode,"clone-node-drag":e.cloneNodeDrag,"node-draggable":e.nodeDraggable,style:{"background-color":"var(--el-bg-color)"}},{default:_(({node:l})=>[t("div",V,[t("div",w,r(l.label),1),t("div",C,"编码："+r(l.id),1)])]),expand:_(({node:l})=>[t("div",null,r(l.children.length),1)]),_:1},8,["data","label-style","horizontal","collapsable","only-one-node","clone-node-drag","node-draggable"])])])),[[v,e.loading]])}}});const R=B(E,[["__scopeId","data-v-5c3b7208"]]);export{R as default};
