import{g as V,e as B}from"./index.32ca2701.js";import{S as F}from"./sys-org-api.bfa57671.js";import{K as S,r as R,a1 as q,ak as r,o as x,a as y,Y as e,S as l,b as m,X as p,W as u,V as J}from"./vue.e20a9695.js";const I={class:"sys-org-container"},K={style:{color:"#fff"}},L={key:0},T={class:"dialog-footer"},W=S({name:"sysEditOrg"}),G=S({...W,props:{title:String,orgData:Array},setup(w,{expose:h}){const _=w,c=R(),o=q({isShowDialog:!1,ruleForm:{}}),k=n=>{o.ruleForm=JSON.parse(JSON.stringify(n)),o.isShowDialog=!0},D=()=>{o.isShowDialog=!1},v=()=>{c.value.validate(async n=>{n&&(o.ruleForm.id!=null&&o.ruleForm.id>0?await V(F).apiSysOrgUpdatePost(o.ruleForm):await V(F).apiSysOrgAddPost(o.ruleForm),B.emit("submitRefresh"),o.isShowDialog=!1)})};return h({openDialog:k}),(n,t)=>{const N=r("ele-Edit"),U=r("el-icon"),C=r("el-cascader"),s=r("el-form-item"),d=r("el-col"),i=r("el-input"),O=r("el-input-number"),f=r("el-radio"),z=r("el-radio-group"),A=r("el-row"),E=r("el-form"),g=r("el-button"),P=r("el-dialog");return x(),y("div",I,[e(P,{modelValue:o.isShowDialog,"onUpdate:modelValue":t[6]||(t[6]=a=>o.isShowDialog=a),draggable:"",width:"600px"},{header:l(()=>[m("div",K,[e(U,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:l(()=>[e(N)]),_:1}),m("span",null,p(_.title),1)])]),footer:l(()=>[m("span",T,[e(g,{onClick:D,size:"default"},{default:l(()=>[u("取 消")]),_:1}),e(g,{type:"primary",onClick:v,size:"default"},{default:l(()=>[u("确 定")]),_:1})])]),default:l(()=>[e(E,{model:o.ruleForm,ref_key:"ruleFormRef",ref:c,size:"default","label-width":"80px"},{default:l(()=>[e(A,{gutter:35},{default:l(()=>[e(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:l(()=>[e(s,{label:"上级机构"},{default:l(()=>[e(C,{options:_.orgData,props:{checkStrictly:!0,emitPath:!1,value:"id",label:"name"},placeholder:"请选择上级机构",clearable:"",class:"w100",modelValue:o.ruleForm.pid,"onUpdate:modelValue":t[0]||(t[0]=a=>o.ruleForm.pid=a)},{default:l(({node:a,data:b})=>[m("span",null,p(b.name),1),a.isLeaf?J("",!0):(x(),y("span",L," ("+p(b.children.length)+") ",1))]),_:1},8,["options","modelValue"])]),_:1})]),_:1}),e(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:l(()=>[e(s,{label:"机构名称",prop:"name",rules:[{required:!0,message:"机构名称不能为空",trigger:"blur"}]},{default:l(()=>[e(i,{modelValue:o.ruleForm.name,"onUpdate:modelValue":t[1]||(t[1]=a=>o.ruleForm.name=a),placeholder:"机构名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:l(()=>[e(s,{label:"机构编码",prop:"code",rules:[{required:!0,message:"机构编码不能为空",trigger:"blur"}]},{default:l(()=>[e(i,{modelValue:o.ruleForm.code,"onUpdate:modelValue":t[2]||(t[2]=a=>o.ruleForm.code=a),placeholder:"机构编码",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"排序"},{default:l(()=>[e(O,{modelValue:o.ruleForm.orderNo,"onUpdate:modelValue":t[3]||(t[3]=a=>o.ruleForm.orderNo=a),placeholder:"排序",class:"w100"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:l(()=>[e(s,{label:"状态"},{default:l(()=>[e(z,{modelValue:o.ruleForm.status,"onUpdate:modelValue":t[4]||(t[4]=a=>o.ruleForm.status=a)},{default:l(()=>[e(f,{label:1},{default:l(()=>[u("启用")]),_:1}),e(f,{label:2},{default:l(()=>[u("禁用")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:l(()=>[e(s,{label:"备注"},{default:l(()=>[e(i,{modelValue:o.ruleForm.remark,"onUpdate:modelValue":t[5]||(t[5]=a=>o.ruleForm.remark=a),placeholder:"请输入备注内容",clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{G as _};
