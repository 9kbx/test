import{K as T,r as A,a1 as I,w as K,k as O,ak as t,o as a,a as m,Y as n,S as c,F as x,ab as P,T as z,R as p,P as i,ac as L,V as _,Z as M,b,X as W,W as S}from"./vue.e20a9695.js";import{_ as X}from"./_plugin-vue_export-helper.c27b6911.js";const Y={key:0,class:"table-search-container"},Z={key:0},E=T({name:"makeTableDemoSearch"}),G=T({...E,props:{search:{type:Array,default:()=>[]},reset:{type:Object,default:()=>{}},param:{type:Object,default:()=>{}}},emits:["search","reset"],setup(f,{emit:h}){const d=f,u=A(),o=I({form:{},isToggle:!1,cascaderProps:{checkStrictly:!0,emitPath:!1,value:"id",label:"name",expandTrigger:"hover"}});K(()=>d.param,r=>{r&&(o.form=Object.assign({},{...r}))},{immediate:!0,deep:!0});const g=r=>{r&&r.validate(s=>{if(s)h("search",o.form);else return!1})},U=r=>{r&&(r.resetFields(),h("reset",o.form),h("search",o.form))},C=()=>{if(d.search.length<=0)return!1;d.search.forEach(r=>o.form[r.prop]="")};return O(()=>{C()}),(r,s)=>{const q=t("el-input"),D=t("el-date-picker"),F=t("el-option"),R=t("el-select"),$=t("el-cascader"),y=t("el-form-item"),V=t("el-col"),B=t("SvgIcon"),k=t("el-button"),N=t("el-row"),j=t("el-form");return d.search.length>0?(a(),m("div",Y,[n(j,{ref_key:"tableSearchRef",ref:u,model:o.form,size:"default","label-width":"100px",class:"table-form"},{default:c(()=>[n(N,{gutter:20},{default:c(()=>[(a(!0),m(x,null,P(f.search,(e,w)=>z((a(),p(V,{xs:12,sm:5,md:5,lg:6,xl:4,class:"mb20",key:w},{default:c(()=>[e.type!==""?(a(),p(y,{key:0,"label-width":"auto",label:e.label,prop:e.prop,rules:[{required:e.required,message:`${e.label}不能为空`,trigger:e.type==="input"?"blur":"change"}]},{default:c(()=>[e.type==="input"?(a(),p(q,i({key:0,modelValue:o.form[e.prop],"onUpdate:modelValue":l=>o.form[e.prop]=l},e.comProps,{placeholder:e.placeholder,clearable:!e.required,onKeyup:s[0]||(s[0]=L(l=>g(u.value),["enter"])),class:"w100"}),null,16,["modelValue","onUpdate:modelValue","placeholder","clearable"])):e.type==="date"?(a(),p(D,i({key:1,modelValue:o.form[e.prop],"onUpdate:modelValue":l=>o.form[e.prop]=l},e.comProps,{type:"date",placeholder:e.placeholder,clearable:!e.required,class:"w100"}),null,16,["modelValue","onUpdate:modelValue","placeholder","clearable"])):e.type==="select"?(a(),p(R,i({key:2,modelValue:o.form[e.prop],"onUpdate:modelValue":l=>o.form[e.prop]=l},e.comProps,{clearable:!e.required,placeholder:e.placeholder,class:"w100"}),{default:c(()=>[(a(!0),m(x,null,P(e.options,l=>(a(),p(F,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue","clearable","placeholder"])):e.type==="cascader"&&e.cascaderData?(a(),p($,i({key:3,options:e.cascaderData,clearable:!e.required,filterable:"",props:e.cascaderProps?e.cascaderProps:o.cascaderProps,placeholder:e.placeholder,class:"w100"},e.comProps,{modelValue:o.form[e.prop],"onUpdate:modelValue":l=>o.form[e.prop]=l}),null,16,["options","clearable","props","placeholder","modelValue","onUpdate:modelValue"])):_("",!0)]),_:2},1032,["label","prop","rules"])):_("",!0)]),_:2},1024)),[[M,w<3||o.isToggle]])),128)),n(V,{xs:12,sm:9,md:9,lg:6,xl:4,class:"mb20"},{default:c(()=>[n(y,{class:"table-form-btn","label-width":"auto"},{label:c(()=>[f.search.length>3?(a(),m("div",Z,[b("div",{class:"table-form-btn-toggle",onClick:s[1]||(s[1]=e=>o.isToggle=!o.isToggle)},[b("span",null,W(o.isToggle?"收起":"展开"),1),n(B,{name:o.isToggle?"ele-ArrowUp":"ele-ArrowDown"},null,8,["name"])])])):_("",!0)]),default:c(()=>[b("div",null,[n(k,{type:"primary",icon:"ele-Search",onClick:s[2]||(s[2]=e=>g(u.value)),plain:""},{default:c(()=>[S(" 查询 ")]),_:1}),n(k,{icon:"ele-Refresh",onClick:s[3]||(s[3]=e=>U(u.value))},{default:c(()=>[S(" 重置 ")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])):_("",!0)}}});const Q=X(G,[["__scopeId","data-v-2c67589a"]]);export{Q as default};
